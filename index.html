<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ValenTango 2026 Full Schedule</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css"></link>
</head>
<body class="bg-black">

    <header class="main-header sticky top-0 z-40">
        <div class="max-w-2xl mx-auto px-6 pb-6">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <h1 class="text-3xl font-extrabold tracking-tight">ValenTango</h1>
                    <p class="text-zinc-500 text-xs uppercase tracking-widest font-bold mt-1">Portland 2026</p>
                </div>
                <div class="text-[11px] font-mono text-zinc-600 bg-zinc-900 px-2 py-1 rounded">Feb 11-16</div>
            </div>
            
            <div class="flex gap-3 overflow-x-auto no-scrollbar -mx-6 px-6">
                <button onclick="setFilter('all')" id="filter-all" class="filter-chip active">All</button>
                <button onclick="setFilter('milonga')" id="filter-milonga" class="filter-chip">Milongas</button>
                <button onclick="setFilter('Beg')" id="filter-Beg" class="filter-chip">Beg</button>
                <button onclick="setFilter('Int')" id="filter-Int" class="filter-chip">Int</button>
                <button onclick="setFilter('Adv')" id="filter-Adv" class="filter-chip">Adv</button>
            </div>
        </div>
    </header>

    <main id="event-list" class="max-w-2xl mx-auto px-6 event-list-container"></main>

    <script src="events.js"></script>
    <script>

        let currentFilter = 'all';

        function formatTime(iso) { return new Date(iso).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' }); }
        function formatDate(iso) { return new Date(iso).toLocaleDateString([], { weekday: 'long', month: 'short', day: 'numeric' }); }

        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-chip').forEach(chip => chip.classList.remove('active'));
            document.getElementById(`filter-${filter}`).classList.add('active');
            renderEvents();
        }

        function renderEvents() {
            const list = document.getElementById('event-list');
            list.innerHTML = '';
            
            const filtered = events.filter(e => {
                if (currentFilter === 'all') return true;
                if (currentFilter === 'milonga') return e.type === 'milonga';
                return e.level.toLowerCase().includes(currentFilter.toLowerCase());
            }).sort((a,b) => new Date(a.start) - new Date(b.start));

            let lastDate = '';
            filtered.forEach(e => {
                const dateStr = formatDate(e.start);
                if(dateStr !== lastDate) {
                    const h = document.createElement('div');
                    h.className = 'date-divider';
                    h.innerText = dateStr;
                    list.appendChild(h);
                    lastDate = dateStr;
                }

                const card = document.createElement('div');
                card.className = 'event-card';
                
                card.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center gap-3">
                            <span class="text-xs font-black tracking-tighter ${e.type === 'milonga' ? 'milonga-indicator' : 'class-indicator'}">${formatTime(e.start)} - ${formatTime(e.end)}</span>
                            <span class="room-pill">${e.room}</span>
                        </div>
                        <span class="price-text">${e.price}</span>
                    </div>
                    
                    <h3 class="text-xl font-bold leading-tight mb-2">${e.title}</h3>
                    
                    <div class="flex items-center gap-2 mb-4">
                        <span class="text-[11px] font-bold uppercase tracking-wider text-zinc-400">${e.level}</span>
                        <span class="text-zinc-700">â€¢</span>
                        <span class="text-[11px] font-bold uppercase tracking-wider text-purple-400">${e.instructor}</span>
                    </div>

                    <p class="text-[14px] text-zinc-400 leading-relaxed font-normal">${e.description}</p>
                `;
                list.appendChild(card);
            });
        }

        window.onload = renderEvents;
    </script>
</body>
</html>